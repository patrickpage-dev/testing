{% extends "base.html" %}

{% block title %}Golf Journal - Golf Practice Tracker{% endblock %}

{% block content %}
    <h1 class="page-title">Golf Journal</h1>
    <p class="page-subtitle">Structured data + reflection for elite players.</p>

    <div class="page-actions-secondary">
        <a href="{{ url_for('export_journal_csv') }}" class="btn">Export Journal to CSV</a>
    </div>
    
    <div class="grid">
        {% for entry in entries %}
        <div class="card half">
            <h3>Entry on {{ entry.entry_date.strftime('%b %d, %Y %H:%M') }}{% if entry.course_name %} at {{ entry.course_name }}{% endif %}</h3>
            <div class="meta">Mental State: {{ entry.mental_state if entry.mental_state else 'N/A' }}</div>
            <div class="meta">Physical State: {{ entry.physical_state if entry.physical_state else 'N/A' }}</div>
            <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="{{ url_for('journal_details', entry_id=entry.id) }}" class="btn btn-primary">View Details</a>
                <a href="{{ url_for('edit_journal_entry', entry_id=entry.id) }}" class="btn btn-ghost" style="font-size: 12px; padding: 6px 10px;">Edit</a>
                <form method="post" action="{{ url_for('delete_journal_entry', entry_id=entry.id) }}" class="inline-form" onsubmit="return confirm('Are you sure you want to delete this journal entry? This will also delete the associated scorecard.');">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <button type="submit" class="btn btn-ghost" style="font-size: 12px; padding: 6px 10px; color: var(--danger);">Delete</button>
                </form>
            </div>
        </div>
        {% else %}
        <div class="card empty-state">
            <h3>No journal entries yet</h3>
            <p class="meta">Start journaling your rounds to track mental state, physical condition, and course performance.</p>
            <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="{{ url_for('add_journal_entry') }}" class="btn btn-primary">Add Your First Entry</a>
                <a href="{{ url_for('add_session') }}" class="btn">Add a Practice Session</a>
                <a href="{{ url_for('course_list') }}" class="btn">Manage Courses</a>
            </div>
        </div>
        {% endfor %}
    </div>
{% endblock %}