{% extends "base.html" %}

{% block title %}Define Holes - Golf Practice Tracker{% endblock %}

{% block content %}
    <h1 class="page-title">Define Holes for {{ course.name }}</h1>
    <p class="page-subtitle">Enter the Par and Distance (yards) for each hole:</p>
    {% if error %}
    <p class="alert">{{ error }}</p>
    {% endif %}
    
    <div class="card">
        <div class="form-section">
            <h3 class="form-section-title">Hole Information</h3>
            <form method="post" class="form">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <div class="scorecard-wrap">
                    <table class="table scorecard-table scoresheet-table" data-scorecard>
                        <thead>
                            <tr class="scoresheet-header">
                                <th class="row-label">HOLE</th>
                                {% for hole in holes %}
                                    <th>{{ hole.hole_number }}</th>
                                    {% if hole.hole_number == 9 %}
                                        <th>OUT</th>
                                    {% endif %}
                                    {% if hole.hole_number == 18 %}
                                        <th>IN</th>
                                        <th>TOT</th>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                            <tr class="scoresheet-header">
                                <th class="row-label">DISTANCE</th>
                                {% for hole in holes %}
                                    <td>
                                        <input class="score-input" type="number" id="hole_{{ hole.hole_number }}_distance" name="hole_{{ hole.hole_number }}_distance" min="0" value="{{ hole.distance or '' }}" placeholder="yds" data-score-type="distance" data-hole-number="{{ hole.hole_number }}">
                                    </td>
                                    {% if hole.hole_number == 9 %}
                                        <td class="total-cell">-</td>
                                    {% endif %}
                                    {% if hole.hole_number == 18 %}
                                        <td class="total-cell">-</td>
                                        <td class="total-cell">-</td>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                            <tr class="scoresheet-header">
                                <th class="row-label">PAR</th>
                                {% for hole in holes %}
                                    <td>
                                        <input class="score-input" type="number" id="hole_{{ hole.hole_number }}_par" name="hole_{{ hole.hole_number }}_par" min="1" max="7" value="{{ hole.par }}" data-score-type="current" data-hole-number="{{ hole.hole_number }}" required>
                                    </td>
                                    {% if hole.hole_number == 9 %}
                                        <td class="total-cell"><span data-total-for="current-out">0</span></td>
                                    {% endif %}
                                    {% if hole.hole_number == 18 %}
                                        <td class="total-cell"><span data-total-for="current-in">0</span></td>
                                        <td class="total-cell"><span data-total-for="current-total">0</span></td>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save Hole Information</button>
                    <a href="{{ url_for('course_list') }}" class="btn btn-ghost">Cancel</a>
                </div>
            </form>
        </div>
    </div>
{% endblock %}